---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { Card, CardContent, Button } from '../../components/ui';
import { trails, type TrailProps, metatrailsmeta, type TrailMetaProps } from "../../data/trails";

export function getStaticPaths() {
  return [
    { params: { lang: 'he' } },
    { params: { lang: 'en' } },
  ];
}

const lang = (Astro.params.lang === 'en' || Astro.params.lang === 'he') ? Astro.params.lang : 'he';

// dictionary (inline for now, later move to helper)
const t = {
  he: {
    title: "מסלולים",
    subtitle: "גלו את המסלולים המומלצים שלנו",
  },
  en: {
    title: "Routes",
    subtitle: "Discover our recommended trails",
  },
}[lang];
const data = trails[lang];

---

<BaseLayout pageTitle={t.title} lang={lang} dir={lang === 'he' ? 'rtl' : 'ltr'}>
  <section class="bg-[#f5eee7] py-12">
    <div class="max-w-6xl mx-auto px-4 text-center">
      <h1 class="text-3xl md:text-4xl font-bold mb-2">{t.title}</h1>
      <p class="text-lg text-gray-700">{t.subtitle}</p>
    </div>
  </section>

  <section class="max-w-6xl mx-auto px-4 py-12">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {Object.entries(data).map(([key, trail]) => (
        <Card className="overflow-hidden shadow-lg">
          <img src={trail.img}  class="w-full h-48 object-cover" />

          <CardContent className="p-6 text-center space-y-4">
            <h2 class="text-2xl font-semibold">{trail.name}</h2>
            <p class="text-gray-600">{trail.desc}</p>
            <div class="flex flex-col items-center text-sm text-gray-500 space-y-1">
              <span>📏 {trail.distance}</span>
              <span>⭕ {trail.type}</span>
              <span>💧 {trail.water}</span>

              <span>⛰️ {trail.difficulty}</span>
              <span>🍂 {trail.season}</span>
            </div>
            <Button
              text={lang === 'he' ? 'לקריאה נוספת' : 'Read More'}
              href={`/${lang}/${key}`}
              className="mt-4"
            />
          </CardContent>
        </Card>
      )
      
      
      
      )}
    </div>
  </section>
</BaseLayout>
